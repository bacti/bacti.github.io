(this["webpackJsonpkha-app"]=this["webpackJsonpkha-app"]||[]).push([[0],{17:function(e,t,r){var n=r(16),o=n,a=Function("return this")();o.exportSymbol("proto.AssetRequest",null,a),o.exportSymbol("proto.AssetResponse",null,a),proto.AssetRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AssetRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.AssetRequest.displayName="proto.AssetRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.AssetRequest.prototype.toObject=function(e){return proto.AssetRequest.toObject(e,this)},proto.AssetRequest.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.AssetRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.AssetRequest;return proto.AssetRequest.deserializeBinaryFromReader(r,t)},proto.AssetRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;default:t.skipField()}}return e},proto.AssetRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.AssetRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.AssetRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getName()).length>0&&t.writeString(1,r)},proto.AssetRequest.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.AssetRequest.prototype.setName=function(e){n.Message.setProto3StringField(this,1,e)},proto.AssetResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.AssetResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.AssetResponse.displayName="proto.AssetResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.AssetResponse.prototype.toObject=function(e){return proto.AssetResponse.toObject(e,this)},proto.AssetResponse.toObject=function(e,t){var r={data:t.getData_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.AssetResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.AssetResponse;return proto.AssetResponse.deserializeBinaryFromReader(r,t)},proto.AssetResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setData(r);break;default:t.skipField()}}return e},proto.AssetResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.AssetResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.AssetResponse.serializeBinaryToWriter=function(e,t){var r;(r=e.getData_asU8()).length>0&&t.writeBytes(1,r)},proto.AssetResponse.prototype.getData=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.AssetResponse.prototype.getData_asB64=function(){return n.Message.bytesAsB64(this.getData())},proto.AssetResponse.prototype.getData_asU8=function(){return n.Message.bytesAsU8(this.getData())},proto.AssetResponse.prototype.setData=function(e){n.Message.setProto3BytesField(this,1,e)},o.object.extend(t,proto)},18:function(e,t,r){var n=r(16),o=n,a=Function("return this")();o.exportSymbol("proto.DictRequest",null,a),o.exportSymbol("proto.DictResponse",null,a),o.exportSymbol("proto.Phonetic",null,a),proto.DictRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.DictRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.DictRequest.displayName="proto.DictRequest"),n.Message.GENERATE_TO_OBJECT&&(proto.DictRequest.prototype.toObject=function(e){return proto.DictRequest.toObject(e,this)},proto.DictRequest.toObject=function(e,t){var r={word:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.DictRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.DictRequest;return proto.DictRequest.deserializeBinaryFromReader(r,t)},proto.DictRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setWord(r);break;default:t.skipField()}}return e},proto.DictRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.DictRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.DictRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getWord()).length>0&&t.writeString(1,r)},proto.DictRequest.prototype.getWord=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.DictRequest.prototype.setWord=function(e){n.Message.setProto3StringField(this,1,e)},proto.DictResponse=function(e){n.Message.initialize(this,e,0,-1,proto.DictResponse.repeatedFields_,null)},o.inherits(proto.DictResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.DictResponse.displayName="proto.DictResponse"),proto.DictResponse.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.DictResponse.prototype.toObject=function(e){return proto.DictResponse.toObject(e,this)},proto.DictResponse.toObject=function(e,t){var r={word:n.Message.getFieldWithDefault(t,1,""),phoneticsList:n.Message.toObjectList(t.getPhoneticsList(),proto.Phonetic.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.DictResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.DictResponse;return proto.DictResponse.deserializeBinaryFromReader(r,t)},proto.DictResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setWord(r);break;case 2:r=new proto.Phonetic;t.readMessage(r,proto.Phonetic.deserializeBinaryFromReader),e.addPhonetics(r);break;default:t.skipField()}}return e},proto.DictResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.DictResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.DictResponse.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getWord()).length>0&&t.writeString(1,r),(r=e.getPhoneticsList()).length>0&&t.writeRepeatedMessage(2,r,proto.Phonetic.serializeBinaryToWriter)},proto.DictResponse.prototype.getWord=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.DictResponse.prototype.setWord=function(e){n.Message.setProto3StringField(this,1,e)},proto.DictResponse.prototype.getPhoneticsList=function(){return n.Message.getRepeatedWrapperField(this,proto.Phonetic,2)},proto.DictResponse.prototype.setPhoneticsList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.DictResponse.prototype.addPhonetics=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.Phonetic,t)},proto.DictResponse.prototype.clearPhoneticsList=function(){this.setPhoneticsList([])},proto.Phonetic=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.Phonetic,n.Message),o.DEBUG&&!COMPILED&&(proto.Phonetic.displayName="proto.Phonetic"),n.Message.GENERATE_TO_OBJECT&&(proto.Phonetic.prototype.toObject=function(e){return proto.Phonetic.toObject(e,this)},proto.Phonetic.toObject=function(e,t){var r={text:n.Message.getFieldWithDefault(t,1,""),audio:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.Phonetic.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.Phonetic;return proto.Phonetic.deserializeBinaryFromReader(r,t)},proto.Phonetic.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setText(r);break;case 2:r=t.readString();e.setAudio(r);break;default:t.skipField()}}return e},proto.Phonetic.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.Phonetic.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Phonetic.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getText()).length>0&&t.writeString(1,r),(r=e.getAudio()).length>0&&t.writeString(2,r)},proto.Phonetic.prototype.getText=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.Phonetic.prototype.setText=function(e){n.Message.setProto3StringField(this,1,e)},proto.Phonetic.prototype.getAudio=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.Phonetic.prototype.setAudio=function(e){n.Message.setProto3StringField(this,2,e)},o.object.extend(t,proto)},19:function(e,t,r){var n=r(16),o=n,a=Function("return this")();o.exportSymbol("proto.VoiceData",null,a),o.exportSymbol("proto.VoiceInfo",null,a),o.exportSymbol("proto.Word",null,a),proto.VoiceData=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.VoiceData,n.Message),o.DEBUG&&!COMPILED&&(proto.VoiceData.displayName="proto.VoiceData"),n.Message.GENERATE_TO_OBJECT&&(proto.VoiceData.prototype.toObject=function(e){return proto.VoiceData.toObject(e,this)},proto.VoiceData.toObject=function(e,t){var r={buffer:t.getBuffer_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.VoiceData.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.VoiceData;return proto.VoiceData.deserializeBinaryFromReader(r,t)},proto.VoiceData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setBuffer(r);break;default:t.skipField()}}return e},proto.VoiceData.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.VoiceData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.VoiceData.serializeBinaryToWriter=function(e,t){var r;(r=e.getBuffer_asU8()).length>0&&t.writeBytes(1,r)},proto.VoiceData.prototype.getBuffer=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.VoiceData.prototype.getBuffer_asB64=function(){return n.Message.bytesAsB64(this.getBuffer())},proto.VoiceData.prototype.getBuffer_asU8=function(){return n.Message.bytesAsU8(this.getBuffer())},proto.VoiceData.prototype.setBuffer=function(e){n.Message.setProto3BytesField(this,1,e)},proto.VoiceInfo=function(e){n.Message.initialize(this,e,0,-1,proto.VoiceInfo.repeatedFields_,null)},o.inherits(proto.VoiceInfo,n.Message),o.DEBUG&&!COMPILED&&(proto.VoiceInfo.displayName="proto.VoiceInfo"),proto.VoiceInfo.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.VoiceInfo.prototype.toObject=function(e){return proto.VoiceInfo.toObject(e,this)},proto.VoiceInfo.toObject=function(e,t){var r={wordsList:n.Message.toObjectList(t.getWordsList(),proto.Word.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.VoiceInfo.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.VoiceInfo;return proto.VoiceInfo.deserializeBinaryFromReader(r,t)},proto.VoiceInfo.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.Word;t.readMessage(r,proto.Word.deserializeBinaryFromReader),e.addWords(r);break;default:t.skipField()}}return e},proto.VoiceInfo.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.VoiceInfo.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.VoiceInfo.serializeBinaryToWriter=function(e,t){var r;(r=e.getWordsList()).length>0&&t.writeRepeatedMessage(1,r,proto.Word.serializeBinaryToWriter)},proto.VoiceInfo.prototype.getWordsList=function(){return n.Message.getRepeatedWrapperField(this,proto.Word,1)},proto.VoiceInfo.prototype.setWordsList=function(e){n.Message.setRepeatedWrapperField(this,1,e)},proto.VoiceInfo.prototype.addWords=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.Word,t)},proto.VoiceInfo.prototype.clearWordsList=function(){this.setWordsList([])},proto.Word=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.Word,n.Message),o.DEBUG&&!COMPILED&&(proto.Word.displayName="proto.Word"),n.Message.GENERATE_TO_OBJECT&&(proto.Word.prototype.toObject=function(e){return proto.Word.toObject(e,this)},proto.Word.toObject=function(e,t){var r={transcript:n.Message.getFieldWithDefault(t,1,""),confidence:+n.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.Word.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.Word;return proto.Word.deserializeBinaryFromReader(r,t)},proto.Word.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTranscript(r);break;case 2:r=t.readFloat();e.setConfidence(r);break;default:t.skipField()}}return e},proto.Word.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.Word.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Word.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTranscript()).length>0&&t.writeString(1,r),0!==(r=e.getConfidence())&&t.writeFloat(2,r)},proto.Word.prototype.getTranscript=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.Word.prototype.setTranscript=function(e){n.Message.setProto3StringField(this,1,e)},proto.Word.prototype.getConfidence=function(){return+n.Message.getFieldWithDefault(this,2,0)},proto.Word.prototype.setConfidence=function(e){n.Message.setProto3FloatField(this,2,e)},o.object.extend(t,proto)},26:function(e,t,r){var n=r(17),o=r(7).grpc,a=function(){function e(){}return e.serviceName="asset",e}();function i(e,t){this.serviceHost=e,this.options=t||{}}a.fetch={methodName:"fetch",service:a,requestStream:!1,responseStream:!1,requestType:n.AssetRequest,responseType:n.AssetResponse},t.asset=a,i.prototype.fetch=function(e,t,r){2===arguments.length&&(r=arguments[1]);var n=o.unary(a.fetch,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==o.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,n.close()}}},t.assetClient=i},29:function(e,t,r){var n=r(18),o=r(7).grpc,a=function(){function e(){}return e.serviceName="dictionary",e}();function i(e,t){this.serviceHost=e,this.options=t||{}}a.lookup={methodName:"lookup",service:a,requestStream:!1,responseStream:!1,requestType:n.DictRequest,responseType:n.DictResponse},t.dictionary=a,i.prototype.lookup=function(e,t,r){2===arguments.length&&(r=arguments[1]);var n=o.unary(a.lookup,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==o.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,n.close()}}},t.dictionaryClient=i},30:function(e,t,r){var n=r(19),o=r(7).grpc,a=function(){function e(){}return e.serviceName="voice",e}();function i(e,t){this.serviceHost=e,this.options=t||{}}a.predict={methodName:"predict",service:a,requestStream:!1,responseStream:!1,requestType:n.VoiceData,responseType:n.VoiceInfo},t.voice=a,i.prototype.predict=function(e,t,r){2===arguments.length&&(r=arguments[1]);var n=o.unary(a.predict,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==o.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,n.close()}}},t.voiceClient=i},35:function(e,t,r){},36:function(e,t){var r;!function(e){"use strict";var t=function(){function e(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),e.prototype.clearData=function(e){null!=e?delete this._data[e]:this._data=null},e.prototype.getData=function(e){return this._data[e]||""},e.prototype.setData=function(e,t){this._data[e]=t},e.prototype.setDragImage=function(e,t,n){var o=r._instance;o._imgCustom=e,o._imgOffset={x:t,y:n}},e}();e.DataTransfer=t;var r=function(){function e(){if(this._lastClick=0,e._instance)throw"DragDropTouch instance already created.";var t=!1;if(document.addEventListener("test",(function(){}),{get passive(){return t=!0,!0}}),"ontouchstart"in document){var r=document,n=this._touchstart.bind(this),o=this._touchmove.bind(this),a=this._touchend.bind(this),i=!!t&&{passive:!1,capture:!1};r.addEventListener("touchstart",n,i),r.addEventListener("touchmove",o,i),r.addEventListener("touchend",a),r.addEventListener("touchcancel",a)}}return e.getInstance=function(){return e._instance},e.prototype._touchstart=function(t){var r=this;if(this._shouldHandle(t)){if(Date.now()-this._lastClick<e._DBLCLICK&&this._dispatchEvent(t,"dblclick",t.target))return t.preventDefault(),void this._reset();this._reset();var n=this._closestDraggable(t.target);n&&(this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=n,this._ptDown=this._getPoint(t),this._lastTouch=t,t.preventDefault(),setTimeout((function(){r._dragSource==n&&null==r._img&&r._dispatchEvent(t,"contextmenu",n)&&r._reset()}),e._CTXMENU),e._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout((function(){r._isDragEnabled=!0,r._touchmove(t)}),e._PRESSHOLDAWAIT))))}},e.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e))this._reset();else if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var t=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",t))return this._lastTouch=e,void e.preventDefault();this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",t)),this._img&&(this._lastTouch=e,e.preventDefault(),t!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",t),this._lastTarget=t),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",t))}},e.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void e.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},e.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},e.prototype._shouldHandleMove=function(t){return!e._ISPRESSHOLDMODE&&this._shouldHandle(t)},e.prototype._shouldHandlePressHoldMove=function(t){return e._ISPRESSHOLDMODE&&this._isDragEnabled&&t&&t.touches&&t.touches.length},e.prototype._shouldCancelPressHoldMove=function(t){return e._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(t)>e._PRESSHOLDMARGIN},e.prototype._shouldStartDragging=function(t){var r=this._getDelta(t);return r>e._THRESHOLD||e._ISPRESSHOLDMODE&&r>=e._PRESSHOLDTHRESHOLD},e.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new t,clearInterval(this._pressHoldInterval)},e.prototype._getPoint=function(e,t){return e&&e.touches&&(e=e.touches[0]),{x:t?e.pageX:e.clientX,y:t?e.pageY:e.clientY}},e.prototype._getDelta=function(t){if(e._ISPRESSHOLDMODE&&!this._ptDown)return 0;var r=this._getPoint(t);return Math.abs(r.x-this._ptDown.x)+Math.abs(r.y-this._ptDown.y)},e.prototype._getTarget=function(e){for(var t=this._getPoint(e),r=document.elementFromPoint(t.x,t.y);r&&"none"==getComputedStyle(r).pointerEvents;)r=r.parentElement;return r},e.prototype._createImage=function(t){this._img&&this._destroyImage();var r=this._imgCustom||this._dragSource;if(this._img=r.cloneNode(!0),this._copyStyle(r,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var n=r.getBoundingClientRect(),o=this._getPoint(t);this._imgOffset={x:o.x-n.left,y:o.y-n.top},this._img.style.opacity=e._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},e.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},e.prototype._moveImage=function(e){var t=this;requestAnimationFrame((function(){if(t._img){var r=t._getPoint(e,!0),n=t._img.style;n.position="absolute",n.pointerEvents="none",n.zIndex="999999",n.left=Math.round(r.x-t._imgOffset.x)+"px",n.top=Math.round(r.y-t._imgOffset.y)+"px"}}))},e.prototype._copyProps=function(e,t,r){for(var n=0;n<r.length;n++){var o=r[n];e[o]=t[o]}},e.prototype._copyStyle=function(t,r){if(e._rmvAtts.forEach((function(e){r.removeAttribute(e)})),t instanceof HTMLCanvasElement){var n=t,o=r;o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0)}for(var a=getComputedStyle(t),i=0;i<a.length;i++){var s=a[i];s.indexOf("transition")<0&&(r.style[s]=a[s])}r.style.pointerEvents="none";for(i=0;i<t.children.length;i++)this._copyStyle(t.children[i],r.children[i])},e.prototype._dispatchEvent=function(t,r,n){if(t&&n){var o=document.createEvent("Event"),a=t.touches?t.touches[0]:t;return o.initEvent(r,!0,!0),o.button=0,o.which=o.buttons=1,this._copyProps(o,t,e._kbdProps),this._copyProps(o,a,e._ptProps),o.dataTransfer=this._dataTransfer,n.dispatchEvent(o),o.defaultPrevented}return!1},e.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},e}();r._instance=new r,r._THRESHOLD=5,r._OPACITY=.5,r._DBLCLICK=500,r._CTXMENU=900,r._ISPRESSHOLDMODE=!1,r._PRESSHOLDAWAIT=400,r._PRESSHOLDMARGIN=25,r._PRESSHOLDTHRESHOLD=0,r._rmvAtts="id,class,style,draggable".split(","),r._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),r._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),e.DragDropTouch=r}(r||(r={}))},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n,o=r(1),a=r.n(o),i=r(23),s=r.n(i),c=(r(35),r(36),r(9)),u=r(8),p=r(24),l=r.n(p),d=r(10),g=["character-0.png","character-1.svg","character-2.svg","character-3.svg","character-4.svg","character-5.png","character-6.png","character-7.png","character-8.png","character-9.png","character-10.png","character-11.png","character-12.png","character-13.png","character-14.png","character-15.png","character-16.png","character-17.png","character-18.png","character-19.png","character-20.png","character-21.png","character-22.png","character-23.png","character-24.png","character-25.png","character-26.png","character-27.svg","character-28.png","character-29.png","character-30.png","character-31.png","character-32.png","character-33.png","character-34.png","character-35.png","character-36.png","tamako-nobi.png","tamako-nobi-2.png","nobisuke-nobi.png","edmond-elephant.png","suzy-sheep.png","chloe-pig.png","alexander-pig.png","candy-cat.png","danny-dog.png","rebecca-rabbit.png","richard-rabbit.png","miss-rabbit.png","zoe-zebra.png","pedro-horse.png","madame-gazelle.png","eiichirou-senjou.png","hodol-choe.png","jaiko-gouda.png","michiko-minamoto.png","mr-kaminari.png","mrs-gouda.png","mrs-honekawa.png","nanhyang-gim.png","granny-dog.png","mummy-dog.png","captain-daddy-dog.png","grampy-rabbit.png","daddy-rabbit.png","gabriella-goat.png","chuck-canary.png","jay-bluebird.png","king-pig.png","kyu.png","matilda-chicken.png","myu.png"],f=["alligator","antelope","bear","camel","chimpanzee","coyote","crab","crocodile","dolphin","elephant","giraffe","gorilla","jellyfish","koala","leopard","lion","monkey","owl","panda","raccoon","shark","starfishes","walrus","wolf","woodpecker","zebra","badger","bat","deer","elk","fox","frog","hare","hedgehog","kangaroo","lizard","mole","otter","rabbit","rat","reindeer","snake","squirrel","toad"],h=r(2),v=r.n(h),b=r(5);!function(e){var t=v.a.mark(r);e.trace=function(e){var t="".concat((window.performance.now()/1e3).toFixed(3),": ").concat(String(e),"\n");console.warn(t);var r=document.getElementById("log");r&&(r.innerText=t+r.innerText)},e.requestFullscreen=function(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t&&t.apply(e)};function r(e){var r,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(b.a)(Array(e)).map((function(e,t){return t})),n=[];case 2:return 0===n.length&&(n=Object(b.a)(r).sort((function(){return Math.random()-.5}))),t.next=6,n.pop();case 6:t.next=2;break;case 8:case"end":return t.stop()}}),t)}e.shuffleGenerator=r;e.random=function(e,t){return~~(Math.random()*(t-e))+e},e.cloneDigit=function(e,t,r){var n=e.cloneNode(!0),o=n.innerText===t;return n.style.background=o?"green":"red",n.ondragend=function(e){var t=document.createElement("div");t.className="digit-panel",e.target.replaceWith(t)},r(~~o-1),n},e.cloneLetter=function(e,t,r){var n=e.cloneNode(!0),o=n.innerText===t;return n.style.background=o?"green":"red",n.ondragend=function(e){var t=document.createElement("div");t.className="letter-panel",e.target.replaceWith(t)},r(~~o-1),n}}(n||(n={}));var m,y=r(4),j=Object(d.connect)((function(e){return{panel:e.panel,digitPanel:e.digitPanel}}),(function(e,t){return{selectPanel:function(t,r){return e.setState({panel:r})},targetPanel:function(t,r){e.setState({digitPanel:r})}}})),O=Object(d.connect)((function(e){return{panel:e.panel}}),(function(e,t){return{pickPanel:function(t,r){e.setState({panel:r})}}})),D=Object(d.connect)((function(e){return{session:e.session,random:e.random,results:e.results,penalty:e.penalty,timer:e.timer,finished:e.finished}}),(function(e,t){return{newSession:function(t){return e.setState({session:Math.random(),penalty:0,finished:!1,random:n.shuffleGenerator(g.length)})},updateTimer:function(t){return e.setState({timer:Date.now()})},updateResult:function(t,r,n){var o=t.results;o[r]=n,e.setState({results:o})},updateScore:function(t,r){var n=t.penalty;e.setState({penalty:n+r})},submit:function(t,r){var n=t.penalty;e.setState({penalty:n+r,finished:!0})}}})),x=r(3),_=r(25),E=r.n(_),w=r(7),R=r(26),S=r(17);!function(e){var t=window.URL||window.webkitURL,r={svg:"image/svg+xml"},n={};e.fetch=function(){var e=Object(y.a)(v.a.mark((function e(o){var a,i,s,c,u,p,l,d,g;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.match(/\.(\w+)$/i)||[],s=Object(x.a)(i,2),s[0],c=s[1],u=r[c],!n[o]){e.next=4;break}return e.abrupt("return",n[o]);case 4:return(p=new S.AssetRequest).setName(o),e.next=8,new Promise((function(e){return w.grpc.unary(R.asset.fetch,{request:p,host:"https://bacti.tk:8080",onEnd:function(t){var r=t.message,n=t.status;return e(n?null:r.getData())}})}));case 8:if(null!=(l=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:return e.next=13,E.a.loadAsync(l);case 13:return d=e.sent,e.next=16,null===(a=d.file(o))||void 0===a?void 0:a.async("arraybuffer");case 16:return g=e.sent,n[o]=t.createObjectURL(new Blob([g],{type:u})),e.abrupt("return",n[o]);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(m||(m={}));var M,B=r(6),P=r(27),T=r.n(P),k=r(28),I=r.n(k);!function(e){var t;!function(e){e.IMPRESSION="IMPRESSION",e.ENGAGEMENT="ENGAGEMENT",e.SUBMIT="SUBMIT",e.REFRESH="REFRESH"}(t||(t={})),e.ETypes=t;var r=T.a.getInstance();r.init("e9d181173175fa90e6140967d58d18e0");var n=window.localStorage||{};n.anoId=n.anoId||I.a.v4(),r.setUserId("ano:".concat(n.anoId));e.logEvent=function(e){var t=e.event,n=Object(B.a)(e,["event"]),o=window.localStorage.getItem("username");r.logEvent(t,Object(u.a)(Object(u.a)({},n),{},{user:o}))}}(M||(M={}));var F,W=r(0),A=D(j((function(e){var t=e.push;return a.a.useMemo((function(){var e=Date.now();M.logEvent({event:M.ETypes.IMPRESSION}),Object(y.a)(v.a.mark((function r(){var n;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=[{family:"Digit-Font",source:"fonts/HP001_5_hang_bold.ttf"},{family:"Letter-Font",source:"fonts/FineCollege.ttf"},{family:"SaucerBB",source:"fonts/SaucerBB.ttf"}],Promise.all(n.map(function(){var e=Object(y.a)(v.a.mark((function e(t){var r,n,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.family,n=t.source,e.t0=FontFace,e.t1=r,e.t2="url(",e.next=6,m.fetch(n);case 6:return e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,")"),o=new e.t0(e.t1,e.t4),e.next=11,o.load();case 11:document.fonts.add(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){M.logEvent({event:M.ETypes.ENGAGEMENT,loading:Date.now()-e}),t(re.ETypes.ENGLISH)})).catch((function(){return null}));case 2:case"end":return r.stop()}}),r)})))()}),[]),Object(W.jsx)("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#000000"},children:Object(W.jsx)("div",{className:"loader"})})}))),N=function(e){var t=e.letter,r=e.draggable,n=e.onDragStart,o=e.onDragEnd;Object(B.a)(e,["letter","draggable","onDragStart","onDragEnd"]);return Object(W.jsx)("div",{draggable:r,onDragStart:n,onDragEnd:o,className:"letter",children:t})},L=D(O((function(e){var t=e.finished,r=e.panel,o=e.pickPanel,a=e.updateScore,i=e.onDragEnd,s=void 0===i?function(e){r&&(r.innerHTML="",r.appendChild(n.cloneLetter(e.target,r.valid,a)))}:i;return Object(W.jsx)("div",{style:{display:"flex",flexFlow:"wrap",position:"fixed",backgroundColor:"transparent",zIndex:999},children:Object(b.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map((function(e){return Object(W.jsx)(N,{letter:e,draggable:!t,onDragStart:function(e){return o(null)},onDragEnd:s},e)}))})}))),C=D((function(e){var t=e.session,r=e.random,n=e.onDragOver,o=e.onDrop,i=(Object(B.a)(e,["session","random","onDragOver","onDrop"]),a.a.useState(null)),s=Object(x.a)(i,2),c=s[0],u=s[1];return a.a.useMemo((function(){Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,m.fetch("images/".concat(g[r.next().value]));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}),[t]),Object(W.jsx)("div",{onDragOver:n,onDrop:o,children:Object(W.jsx)("div",{className:"letter-panel",style:{backgroundImage:"url(".concat(c,")")}})})})),z=O((function(e){var t=e.panel,r=e.push,n=e.pickPanel,o=a.a.useState("   "),i=Object(x.a)(o,2),s=i[0],c=i[1],u=window.localStorage.getItem("username"),p=function(e,t,r){var n=Object(b.a)(e);return n[r]=t,"  ".concat(n.join("").replace(/(\s+)/g," ").trim(),"  ")};return a.a.useEffect((function(){u&&r(re.ETypes.CALCULATION)}),[]),u?null:Object(W.jsxs)("div",{children:[Object(W.jsx)(L,{onDragEnd:function(e){t&&c(p(s,e.target.innerText,t.index))}}),Object(W.jsxs)("div",{className:"word",children:[Object(W.jsx)("div",{className:"word-panel",style:{paddingTop:100},children:Object(b.a)(s).map((function(e,t){return" "==e?Object(W.jsx)(C,{onDragOver:function(e){return e.preventDefault()},onDrop:function(e){var r=e.currentTarget;r.index=t,n(r)}},t):Object(W.jsx)(N,{letter:e,draggable:!0,onDragEnd:function(e){c(p(s," ",t))}},t)}))}),Object(W.jsx)("div",{style:{fontSize:"x-large",fontWeight:"bold",backgroundColor:"yellow",margin:40,padding:"16px 53px",border:"4px solid blue",cursor:"pointer",pointerEvents:"auto"},onClick:function(){window.localStorage.setItem("username",s.toLowerCase().trim()),r(re.ETypes.CALCULATION)},children:"SAVE"})]})]})})),q=function(e){var t=e.digit,r=e.draggable,n=e.onDragStart,o=e.onDragEnd,a=e.style;return Object(W.jsx)("div",{draggable:r,onDragStart:n,onDragEnd:o,style:a,className:"digit",children:t})},H=D((function(e){var t=e.results,r=e.timer,n=e.penalty,o=e.newSession,i=e.finished,s=e.submit,c=a.a.useState(null),u=Object(x.a)(c,2),p=u[0],l=u[1],d=a.a.useMemo((function(){return Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,m.fetch("reset.png");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))(),window.localStorage.getItem("username")}),[]),g=function(){return Math.ceil(t.reduce((function(e,r){return e+100/t.length*~~r}),0))};return Object(W.jsxs)("div",{style:{position:"fixed",top:200,right:0,width:180,paddingRight:40,textAlign:"center",zIndex:999},children:[Object(W.jsx)("div",{className:"user",children:d}),Object(W.jsx)("div",{style:{fontWeight:"bold",margin:16,cursor:"pointer",height:96,backgroundImage:"url(".concat(p,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:function(){M.logEvent({event:M.ETypes.REFRESH,score:g(),playing:Date.now()-r}),o()}}),Object(W.jsx)("div",{style:{fontFamily:"SaucerBB",fontSize:80,color:i?"red":"grey"},children:100+n}),Object(W.jsx)("div",{style:{fontWeight:"bold",backgroundColor:"yellow",padding:4,border:"2px solid blue",cursor:"pointer",pointerEvents:i?"none":"auto"},onClick:function(){var e=g();M.logEvent({event:M.ETypes.SUBMIT,score:e+n,playing:Date.now()-r}),s(e-100)},children:"SUBMIT"})]})})),V=D((function(e){var t=e.session,r=e.random,n=e.onDragOver,o=e.onDrop,i=(Object(B.a)(e,["session","random","onDragOver","onDrop"]),a.a.useState(null)),s=Object(x.a)(i,2),c=s[0],u=s[1];return a.a.useMemo((function(){Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,m.fetch("images/".concat(g[r.next().value]));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}),[t]),Object(W.jsx)("div",{onDragOver:n,onDrop:o,children:Object(W.jsx)("div",{className:"digit-panel",style:{backgroundImage:"url(".concat(c,")")}})})})),G=j((function(e){var t=e.value,r=e.mask,n=void 0===r?t:r,o=e.targetPanel,i=(Object(B.a)(e,["value","mask","targetPanel"]),a.a.useRef(null));return t=("x".repeat(n.length)+t).slice(-n.length),Object(W.jsx)("div",{ref:i,style:{display:"flex",justifyContent:"flex-end"},children:Object(b.a)(n).map((function(e,r){return isFinite(+e)?Object(W.jsx)(q,{digit:+e,draggable:!1},r):Object(W.jsx)(V,{onDragOver:function(e){return e.preventDefault()},onDrop:function(e){return o({validDigit:t[r],panel:e.currentTarget})}},r)}))})})),U=D(j((function(e){var t=e.id,r=e.finished,n=e.operand,o=e.selectPanel,i=e.updateResult,s=a.a.useState(0),c=Object(x.a)(s,2),u=(c[0],c[1]),p=a.a.useRef(null),l=n.value,d=n.text,g=n.mask;return a.a.useEffect((function(){Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i(t,l===d));case 1:case"end":return e.stop()}}),e)})))()})),Object(W.jsx)("div",{ref:p,style:{display:"flex",justifyContent:"flex-end"},children:Object(b.a)(g).map((function(e,t){if(isFinite(+e))return Object(W.jsx)(q,{digit:+e,draggable:!1},t);if("z"==e)return Object(W.jsx)("div",{className:"digit-panel",style:{borderColor:"black"}},t);if(" "==d[t])return Object(W.jsx)(V,{onDragOver:function(e){return e.preventDefault()},onDrop:function(e){return o({operand:n,index:t})}},t);var a=(" ".repeat(d.length)+String(l)).slice(-d.length);return Object(W.jsx)(q,{digit:+d[t],style:{background:a[t]===d[t]?"green":"red"},draggable:!r,onDragEnd:function(e){n.text=d.replace(new RegExp("(.{".concat(t,"})(.)"),"i"),"$1 "),u(Math.random())}},t)}))})}))),$=D((function(e){var t=e.id,r=e.operands,n=Object(x.a)(r,2),o=n[0],i=n[1],s=a.a.useMemo((function(){var e=o>i?"-":"+";return[e,function(e,t,r){var n=Math.max(e.length-r,t);return{value:(" ".repeat(n)+e).slice(-n)+"0".repeat(r),text:" ".repeat(n)+"0".repeat(r),mask:"x".repeat(n)+"z".repeat(r)}}(String({"+":o+i,"-":o-i}[e]),3,0)]}),[]),c=Object(x.a)(s,2),u=c[0],p=c[1];return Object(W.jsxs)("div",{className:"calculation",style:{background:"transparent"},children:[Object(W.jsx)(G,{value:String(o)}),Object(W.jsx)("div",{className:"operator",children:u}),Object(W.jsx)(G,{value:String(i)}),Object(W.jsx)("div",{className:"horizontal-line",children:"=="}),Object(W.jsx)(U,{id:t,operand:p})]})})),J=D((function(e){var t=e.id,r=e.operands,n=(a.a.useRef(null),a.a.useRef(null),a.a.useRef(null),Object(x.a)(r,2)),o=n[0],i=n[1],s=a.a.useMemo((function(){var e=function(e,t,r){var n=Math.max(e.length-r,t);return{value:(" ".repeat(n)+e).slice(-n)+"0".repeat(r),text:" ".repeat(n)+"0".repeat(r),mask:"x".repeat(n)+"z".repeat(r)}};return[Object(b.a)(String(o)).map((function(t,r){var n=String(i*~~(o/Math.pow(10,r)%10)),a=Math.max(n.length-r,2);return e(n,a,r)})),e(String(o*i),3,0)]}),[]),c=Object(x.a)(s,2),u=c[0],p=c[1];return Object(W.jsxs)("div",{className:"calculation",style:{background:"transparent"},children:[Object(W.jsx)(G,{value:String(o)}),Object(W.jsx)("div",{className:"operator",children:"\xd7"}),Object(W.jsx)(G,{value:String(i)}),Object(W.jsx)("div",{className:"horizontal-line",children:"=="}),u.map((function(e,r){return Object(W.jsx)(U,{id:Number(t)+r,operand:e},r)})),Object(W.jsx)("div",{className:"horizontal-line",children:"=="}),Object(W.jsx)(U,{id:Number(t)+2,operand:p})]})})),K=D(j((function(e){var t=a.a.useState(0),r=Object(x.a)(t,2),o=(r[0],r[1]),i=e.finished,s=e.session,c=e.panel,u=e.selectPanel,p=e.updateScore,l=e.updateTimer,d=a.a.useMemo((function(){var e=0;return Object(b.a)(Array(20)).map((function(t,r){var o=r<2,a={operands:[n.random(10,100),o?n.random(2,10):n.random(10,100)],multiply:o,offset:e};return e+=2*~~o+1,a}))}),[s]);return a.a.useEffect((function(){l()}),[s]),Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{style:{display:"flex",position:"fixed",backgroundColor:"transparent",zIndex:999},children:Object(b.a)(Array(10)).map((function(e,t){return Object(W.jsx)(q,{digit:t,draggable:!i,onDragStart:function(e){return u(null)},onDragEnd:function(e){if(c){var t=c.index,r=c.operand;r.text=r.text.replace(new RegExp("(.{".concat(t,"})(.)"),"i"),"$1".concat(e.target.innerText)),p(~~(r.value[t]===r.text[t])-1),o(Math.random())}}},t)}))}),Object(W.jsx)(H,{}),Object(W.jsx)("div",{className:"content-panel",children:Object(W.jsx)("div",{style:{display:"flex",flexFlow:"wrap",backgroundColor:"linen"},children:d.map((function(e,t){var r=e.operands,n=e.multiply,o=e.offset;return n?Object(W.jsx)(J,{id:o,operands:r},t):Object(W.jsx)($,{id:o,operands:r},t)}))})})]},s)}))),X=r(29),Y=r(18);(F||(F={})).lookup=function(){var e=Object(y.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Y.DictRequest).setWord(t),e.next=4,new Promise((function(e){return w.grpc.unary(X.dictionary.lookup,{request:r,host:"https://bacti.tk:8080",onEnd:function(t){var r=t.message,n=t.status;e(n?null:{word:r.getWord(),phonetics:r.getPhoneticsList().map((function(e){return{text:e.getText(),audio:e.getAudio()}}))})}})}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Z,Q=function(e){var t=e.word,r=a.a.useState(null),n=Object(x.a)(r,2),o=n[0],i=n[1],s=a.a.useMemo((function(){var e="".concat(t).concat("_".repeat(t.length)),r=document.createElement("audio"),n=document.createElement("source");return n.src="https://www.oxfordlearnersdictionaries.com/media/american_english/us_pron/"+"/".concat(e.slice(0,1))+"/".concat(e.slice(0,3))+"/".concat(e.slice(0,5))+"/".concat(t,"__us_1.mp3"),n.type="audio/mpeg",r.appendChild(n),r}),[t]);return a.a.useMemo((function(){Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,m.fetch("speaker.png");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(W.jsx)("div",{style:{width:180,textAlign:"center",zIndex:999},children:Object(W.jsx)("div",{style:{fontWeight:"bold",margin:16,cursor:"pointer",height:96,backgroundImage:"url(".concat(o,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:function(){return s.play()}})})},ee=r(30),te=r(19);(Z||(Z={})).predict=function(){var e=Object(y.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new te.VoiceData).setBuffer(t),e.next=4,new Promise((function(e){return w.grpc.unary(ee.voice.predict,{request:r,host:"https://bacti.tk:8080",onEnd:function(t){var r=t.message,n=t.status;return e(n?null:r.getWordsList().map((function(e){return{transcript:e.getTranscript(),confidence:e.getConfidence()}})))}})}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var re,ne=function(e){var t=a.a.useState(null),r=Object(x.a)(t,2),n=r[0],o=r[1],i=a.a.useState(!1),s=Object(x.a)(i,2),c=s[0],u=s[1],p=a.a.useState(null),l=Object(x.a)(p,2),d=l[0],g=l[1],f=e.word,h=a.a.useMemo((function(){function e(){return(e=Object(y.a)(v.a.mark((function e(){var t,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:return r=e.sent,(n=new MediaRecorder(r)).ondataavailable=function(){var e=Object(y.a)(v.a.mark((function e(r){var o,a,i,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.push(r.data),"inactive"!==n.state){e.next=18;break}return e.prev=2,o=new Blob(t,{type:"audio/webm"}),e.next=6,new Response(o).arrayBuffer();case 6:return a=e.sent,e.next=9,Z.predict(new Uint8Array(a));case 9:i=e.sent,s=Object(x.a)(i,1),c=s[0],g(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),n.onstop=function(){return t.length=0},e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return e.apply(this,arguments)}()}),[f]);a.a.useMemo((function(){Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,Promise.all([m.fetch("recording.png"),m.fetch("recorder.png")]);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}),[]);var b=d||{},j=b.transcript,O=b.confidence;return n?Object(W.jsxs)("div",{style:{width:180,textAlign:"center",zIndex:999},children:[Object(W.jsx)("div",{className:"button",style:{backgroundImage:"url(".concat(n[+!c],")")},onClick:function(){g(null),h.then((function(e){u(e.start()||!0),setTimeout((function(){return u(e.stop()||!1)}),2e3)}))}}),j&&Object(W.jsx)("div",{style:{marginTop:-20},children:"".concat(j,"\n").concat(O)})]}):null},oe=D(O((function(e){var t=e.word,r=e.pickPanel,n=a.a.useState(null),o=Object(x.a)(n,2),i=o[0],s=o[1],c=a.a.useState(null),u=Object(x.a)(c,2),p=(u[0],u[1]);return a.a.useMemo((function(){Object(y.a)(v.a.mark((function e(){var r,n,o,a,i,c,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([m.fetch("wild-animals/".concat(t,"-150x150.png")),F.lookup(t)]);case 2:r=e.sent,n=Object(x.a)(r,2),o=n[0],(a=n[1])&&(i=Object(x.a)(a.phonetics,1),c=i[0],u=c.audio,c.text,p(u)),s(o);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(W.jsxs)("div",{className:"word",children:[Object(W.jsxs)("div",{style:{display:"flex"},children:[Object(W.jsx)("div",{className:"word-picture",style:{backgroundImage:"url(".concat(i,")")}}),Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(W.jsx)(Q,{word:t}),Object(W.jsx)(ne,{word:t})]})]}),Object(W.jsx)("div",{className:"word-panel",children:Object(b.a)(t.toUpperCase()).map((function(e,t){return Object(W.jsx)(C,{onDragOver:function(e){return e.preventDefault()},onDrop:function(t){var n=t.currentTarget;n.valid=e,r(n)}},t)}))})]})}))),ae=D(j((function(e){var t=a.a.useState(0),r=Object(x.a)(t,2),o=(r[0],r[1],e.finished,e.session),i=(e.digitPanel,e.targetPanel,e.updateScore,a.a.useMemo((function(){return f[n.random(0,f.length)]}),[o]));return Object(W.jsxs)("div",{children:[Object(W.jsx)(L,{}),Object(W.jsx)(H,{}),Object(W.jsx)(oe,{word:i})]},o)})));r(46),r(47);!function(e){var t;!function(e){e[e.LOADING=0]="LOADING",e[e.PROFILE=1]="PROFILE",e[e.CALCULATION=2]="CALCULATION",e[e.ENGLISH=3]="ENGLISH"}(t||(t={})),e.ETypes=t;var r=[],o=l()({currentPage:t.LOADING,results:[],penalty:0,finished:!1,random:n.shuffleGenerator(g.length)}),a=Object(d.connect)((function(e){return{currentPage:e.currentPage}}),(function(e,t){return{push:function(t,n){var o=t.currentPage;r.push(o),e.setState({currentPage:n})},pop:function(t){var n=r.pop();e.setState({currentPage:n})}}}))((function(e){return function(e){var r;return r={},Object(c.a)(r,t.LOADING,Object(W.jsx)(A,Object(u.a)({},e),"PageLoading")),Object(c.a)(r,t.PROFILE,Object(W.jsx)(z,Object(u.a)({},e),"PageProfile")),Object(c.a)(r,t.CALCULATION,Object(W.jsx)(K,Object(u.a)({},e),"PageCalculation")),Object(c.a)(r,t.ENGLISH,Object(W.jsx)(ae,Object(u.a)({},e),"PageEnglish")),r}(e)[e.currentPage]}));e.Display=function(){return Object(W.jsx)(d.Provider,{store:o,children:Object(W.jsx)(a,{})})}}(re||(re={}));r(48);var ie=function(){return Object(W.jsx)(re.Display,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,50)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),o(e),a(e),i(e)}))};s.a.render(Object(W.jsx)(ie,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),se()}},[[49,1,2]]]);
//# sourceMappingURL=main.deb51082.chunk.js.map